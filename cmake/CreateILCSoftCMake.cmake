STRING( TIMESTAMP TIME "%Y-%m-%d %H:%M:%S" )

FILE( WRITE ${ILCSOFT_PATH}/ILCSoft.cmake  "################################################################################\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "# Environment script generated by CMake on ${TIME} \n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "# for the installation located at [ ${ILCSOFT_PATH} ]\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "################################################################################\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "SET( ILC_HOME \"${ILCSOFT_PATH}\" CACHE PATH \"Path to ILC Software\" FORCE)\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "MARK_AS_ADVANCED( ILC_HOME )\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "SET( CMAKE_PREFIX_PATH\n" )
FOREACH( mod ${Modules} )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "\t \${ILC_HOME}/${mod};\n" )
ENDFOREACH()
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "CACHE PATH \"CMAKE_PREFIX_PATH\" FORCE )\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "\n" )
FILE( APPEND ${ILCSOFT_PATH}/ILCSoft.cmake "\n" )

MESSAGE ( STATUS "Created ILCSoft.cmake in ${ILCSOFT_PATH}" )